# Grimoire Language Reference

Grimoire is an embedded language for D applications.

The language features static typing, concurrency and an easy to use API to define your own types, functions and variables directly from D.

Compiling a Grimoire script and getting it to run is as easy as this:
```d
import std.stdio: writeln;

// Some basic functions are provided by the default library.
GrLibrary stdlib = grLoadStdLibrary(); 

GrCompiler compiler = new GrCompiler;

// We add the default library.
compiler.addLibrary(stdlib);

// We compile the file.
GrBytecode bytecode = compiler.compileFile("script.gr");

if(bytecode) {
    // Compilation successful, we setup the VM
	GrEngine engine = new GrEngine;

	// Adding the default library to the runtime
	engine.addLibrary(stdlib);

	// Loading the generated bytecode
	engine.load(bytecode);

	// We call an event named `main`
	if(engine.hasEvent("main"))
		engine.callEvent("main");

	// The VM will run until all the passes are done
	while(engine.hasTasks)
    	engine.process();

	// An unrecoverable error made the whole VM to stop
	if(engine.isPanicking)
    	writeln("unhandled error: " ~ engine.panicMessage);
}
else {
    // An error occurred while compiling
    writeln(compiler.getError().prettify());
}
```